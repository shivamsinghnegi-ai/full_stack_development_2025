## Numerical Problems

### Problem 1: Calculate Page Faults (FIFO)

**Question:**
Reference String: **3, 2, 1, 0, 3, 2, 4, 3, 2, 1, 0, 4**
Number of Frames: **4**
Algorithm: **FIFO**
Calculate: Total page faults and hit ratio

**Solution:**
```
Ref   Frames              Fault?
---   -----------------   ------
3     [3][ ][ ][ ]        ✓ (Fault 1)
2     [3][2][ ][ ]        ✓ (Fault 2)
1     [3][2][1][ ]        ✓ (Fault 3)
0     [3][2][1][0]        ✓ (Fault 4)
3     [3][2][1][0]        ✗ (Hit)
2     [3][2][1][0]        ✗ (Hit)
4     [4][2][1][0]        ✓ (Fault 5) Replace 3
3     [4][3][1][0]        ✓ (Fault 6) Replace 2
2     [4][3][2][0]        ✓ (Fault 7) Replace 1
1     [4][3][2][1]        ✓ (Fault 8) Replace 0
0     [0][3][2][1]        ✓ (Fault 9) Replace 4
4     [0][4][2][1]        ✓ (Fault 10) Replace 3

Total References: 12
Total Page Faults: 10
Total Hits: 2
Page Fault Rate: 10/12 = 83.3%
Hit Ratio: 2/12 = 16.7%
```

---

### Problem 2: Compare FIFO vs LRU

**Question:**
Reference String: **1, 2, 3, 4, 1, 2, 5, 1, 2, 3, 4, 5**
Frames: **3**
Compare page faults for FIFO and LRU

**FIFO Solution:**
```
Ref   Frames          Fault?
---   -------------   ------
1     [1][ ][ ]       ✓
2     [1][2][ ]       ✓
3     [1][2][3]       ✓
4     [4][2][3]       ✓
1     [4][1][3]       ✓
2     [4][1][2]       ✓
5     [5][1][2]       ✓
1     [5][1][2]       ✗
2     [5][1][2]       ✗
3     [3][1][2]       ✓
4     [3][4][2]       ✓
5     [3][4][5]       ✓

FIFO Page Faults: 10
```

**LRU Solution:**
```
Ref   Frames          Fault?  LRU Order
---   -------------   ------  ----------
1     [1][ ][ ]       ✓       1
2     [1][2][ ]       ✓       2,1
3     [1][2][3]       ✓       3,2,1
4     [4][2][3]       ✓       4,3,2 (Replace 1-LRU)
1     [4][1][3]       ✓       1,4,3 (Replace 2-LRU)
2     [4][1][2]       ✓       2,1,4 (Replace 3-LRU)
5     [5][1][2]       ✓       5,2,1 (Replace 4-LRU)
1     [5][1][2]       ✗       1,5,2
2     [5][1][2]       ✗       2,1,5
3     [3][1][2]       ✓       3,2,1 (Replace 5-LRU)
4     [3][4][2]       ✓       4,3,2 (Replace 1-LRU)
5     [3][4][5]       ✓       5,4,3 (Replace 2-LRU)

LRU Page Faults: 10
```

**Result:** Both have 10 faults for this reference string

---

### Problem 3: Optimal Algorithm

**Question:**
Reference String: **2, 3, 2, 1, 5, 2, 4, 5, 3, 2, 5, 2**
Frames: **3**
Find page faults using Optimal

**Solution:**
```
Ref   Frames          Fault?  Future Analysis
---   -------------   ------  ----------------
2     [2][ ][ ]       ✓
3     [2][3][ ]       ✓
2     [2][3][ ]       ✗
1     [2][3][1]       ✓
5     [2][5][1]       ✓       Replace 3 (next use at pos 9)
                              1 next at pos ∞
                              2 next at pos 6
                              Choose 3 or 1, let's say 3
2     [2][5][1]       ✗
4     [2][5][4]       ✓       Replace 1 (never used)
5     [2][5][4]       ✗
3     [3][5][4]       ✓       Replace 2 (next at pos 10)
                              5 next at pos 11
                              4 never
                              Replace 4 or 2
2     [3][5][2]       ✓       Replace 4
5     [3][5][2]       ✗
2     [3][5][2]       ✗

Total Page Faults: 7
```

---

### Problem 4: Demonstrate Belady's Anomaly

**Question:**
Reference String: **0, 1, 2, 3, 0, 1, 4, 0, 1, 2, 3, 4**
Show Belady's Anomaly with 3 and 4 frames using FIFO

**With 3 Frames:**
```
Ref   Frames          Fault?
---   -------------   ------
0     [0][ ][ ]       ✓
1     [0][1][ ]       ✓
2     [0][1][2]       ✓
3     [3][1][2]       ✓
0     [3][0][2]       ✓
1     [3][0][1]       ✓
4     [4][0][1]       ✓
0     [4][0][1]       ✗
1     [4][0][1]       ✗
2     [2][0][1]       ✓
3     [2][3][1]       ✓
4     [2][3][4]       ✓

Page Faults with 3 frames: 10
```

**With 4 Frames:**
```
Ref   Frames              Fault?
---   -----------------   ------
0     [0][ ][ ][ ]        ✓
1     [0][1][ ][ ]        ✓
2     [0][1][2][ ]        ✓
3     [0][1][2][3]        ✓
0     [0][1][2][3]        ✗
1     [0][1][2][3]        ✗
4     [4][1][2][3]        ✓
0     [4][0][2][3]        ✓
1     [4][0][1][3]        ✓
2     [4][0][1][2]        ✓
3     [3][0][1][2]        ✓
4     [3][4][1][2]        ✓

Page Faults with 4 frames: 11

ANOMALY: 3 frames (10 faults) < 4 frames (11 faults)
```

---

## Important Exam Questions & Answers

### Q1. What is page replacement? When is it needed?
**Answer:** Page replacement is the process of selecting a victim page to remove from memory when all frames are full and a new page needs to be loaded. It's needed during a page fault when memory is completely occupied.

### Q2. Why is Optimal algorithm impractical?
**Answer:** Optimal algorithm requires knowledge of future page references, which is impossible to know in advance. It's used only as a theoretical benchmark to compare other algorithms.

### Q3. Which is better: FIFO or LRU?
**Answer:** LRU is generally better than FIFO because:
- LRU considers recent usage (locality principle)
- LRU performs closer to Optimal
- LRU doesn't suffer from Belady's Anomaly
- However, LRU has higher implementation overhead

### Q4. Explain Belady's Anomaly with example.
**Answer:** Belady's Anomaly is a counter-intuitive phenomenon where increasing the number of frames increases page faults (instead of decreasing). It occurs with FIFO algorithm but not with stack algorithms like LRU and Optimal.
Example: Reference string 1,2,3,4,1,2,5,1,2,3,4,5 has 10 faults with 3 frames but 11 faults with 4 frames using FIFO.

### Q5. What is the difference between LRU and LFU?
**Answer:**
- **LRU:** Replaces page not used for longest time (based on recency)
- **LFU:** Replaces page with smallest access count (based on frequency)
- LRU performs better in most cases due to locality principle

### Q6. What is a stack algorithm?
**Answer:** A stack algorithm is one where the set of pages in memory with n frames is always a subset of pages with n+1 frames. Stack algorithms (LRU, Optimal) never exhibit Belady's Anomaly. FIFO is not a stack algorithm.

### Q7. Why does modified bit matter in page replacement?
**Answer:** 
- Modified bit = 0: Page unchanged → Can discard directly (1 disk I/O)
- Modified bit = 1: Page changed → Must write back first (2 disk I/Os)
- Preferring unmodified pages reduces I/O overhead

---

## Quick Formulas
```
1. Page Fault Rate = (Number of Page Faults) / (Total References)

2. Hit Ratio = (Number of Hits) / (Total References)
             = 1 - Page Fault Rate

3. Total References = Page Faults + Hits

4. For n unique pages and m frames:
   Minimum page faults = n (if n ≤ m)
   Minimum page faults = n (if n > m, best case with Optimal)
```

---
## Algorithm Comparison Table

| Feature | FIFO | Optimal | LRU | LFU | MFU |
|---------|------|---------|-----|-----|-----|
| **Basis** | Arrival time | Future use | Past use | Frequency | Frequency |
| **Performance** | Poor | Best | Good | Medium | Poor |
| **Implementation** | Easy | Impossible | Hard | Medium | Medium |
| **Overhead** | Low | N/A | High | Medium | Medium |
| **Belady's Anomaly** | Yes | No | No | No | No |
| **Practical Use** | Yes | No | Yes | Limited | Rare |
| **Hardware Support** | No | N/A | Yes | No | No |

---
## Practice Problem Set

**Try these for practice:**

1. Reference: 7,0,1,2,0,3,0,4,2,3,0,3,2,1,2,0,1,7,0,1
   Frames: 3
   Find page faults for: FIFO, LRU, Optimal

2. Reference: 1,2,3,4,2,1,5,6,2,1,2,3,7,6,3,2,1,2,3,6
   Frames: 4
   Compare FIFO vs LRU

3. Demonstrate Belady's Anomaly with any reference string of your choice

4. Reference: 2,3,2,1,5,2,4,5,3,2,5,2
   Frames: 3
   Solve using all algorithms and compare

---
