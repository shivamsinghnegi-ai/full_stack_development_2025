# Data Transfer and Manipulation

## Computer Instructions - Classification

```
                    Computer Instructions
                            │
        ┌───────────────────┼───────────────────┐
        ▼                   ▼                   ▼
  Data Transfer       Data Manipulation    Program Control
  Instructions         Instructions        Instructions
        │                   │                   │
  [Move data from     [Perform arithmetic, [Decision making,
   one location to     logic and shift      change program
   another WITHOUT     operations]          execution path]
   changing it]
```

---

# 1. Data Transfer Instructions

## Definition
Transfer data from one location to another **without changing the binary information**.

## Common Data Transfers
1. Between **memory** and **processor registers**
2. Between **processor registers** and **I/O**
3. Between **processor registers** themselves

---

## Typical Data Transfer Instructions

| Name | Mnemonic | Description |
|------|----------|-------------|
| **Load** | LD | Transfer from memory → processor register (accumulator) |
| **Store** | ST | Transfer from processor register → memory |
| **Move** | MOV | Register to register, OR register to memory word |
| **Exchange** | XCH | Swap contents of two registers (or register & memory) |
| **Input** | IN | Transfer from I/O device → processor register |
| **Output** | OUT | Transfer from processor register → I/O device |
| **Push** | PUSH | Transfer from register → stack (memory) |
| **Pop** | POP | Transfer from stack → register |

---

## 8 Addressing Modes for Load Instruction

| Mode | Assembly | Register Transfer | Meaning |
|------|----------|-------------------|---------|
| **Direct** | LD ADR | AC ← M[ADR] | Load from address ADR |
| **Indirect** | LD @ADR | AC ← M[M[ADR]] | Address points to another address |
| **Relative** | LD $ADR | AC ← M[PC + ADR] | Address relative to PC |
| **Immediate** | LD #NBR | AC ← NBR | Load the number directly |
| **Index** | LD ADR(X) | AC ← M[ADR + XR] | Address + Index Register |
| **Register** | LD R1 | AC ← R1 | Load from another register |
| **Register Indirect** | LD (R1) | AC ← M[R1] | Register contains address |
| **Autoincrement** | LD (R1)+ | AC ← M[R1], R1 ← R1+1 | Load then increment register |

> **Note:** ADR = Address, NBR = Number/Operand, XR = Index Register

---

# 2. Data Manipulation Instructions

## Three Types

```
┌─────────────────────────────────────────────────────────┐
│  1. Arithmetic Instructions                             │
│  2. Logical and Bit Manipulation Instructions           │
│  3. Shift Instructions                                  │
└─────────────────────────────────────────────────────────┘
```

---

## 2.1 Arithmetic Instructions

| Name | Mnemonic | Description |
|------|----------|-------------|
| **Increment** | INC | Add 1 to operand |
| **Decrement** | DEC | Subtract 1 from operand |
| **Add** | ADD | Add two operands |
| **Subtract** | SUB | Subtract operands |
| **Multiply** | MUL | Multiply operands |
| **Divide** | DIV | Divide operands |
| **Add with Carry** | ADDC | Add with previous carry |
| **Subtract with Borrow** | SUBB | Subtract with borrow |
| **Negate** | NEG | 2's complement (change sign) |

### Variations Based on Data Type

| Category | Types |
|----------|-------|
| **Data Type** | Fixed point, Floating point |
| **Number System** | Binary, Decimal |
| **Precision** | Single precision, Double precision |

**Examples:**
- `ADDI` → Add Integer
- `ADDF` → Add Floating point
- `ADDD` → Add Decimal (BCD)

---

## 2.2 Logical and Bit Manipulation Instructions

| Name | Mnemonic | Use |
|------|----------|-----|
| **Clear** | CLR | Set all bits to 0 |
| **Complement** | COM | Invert all bits (1's complement) |
| **AND** | AND | Clear selected bits (masking) |
| **OR** | OR | Set selected bits |
| **Exclusive OR** | XOR | Complement selected bits |
| **Clear Carry** | CLRC | Clear carry flag to 0 |
| **Set Carry** | SETC | Set carry flag to 1 |
| **Complement Carry** | COMC | Toggle carry flag |
| **Enable Interrupt** | EI | Enable interrupt system |
| **Disable Interrupt** | DI | Disable interrupt system |

### Quick Reference - Logical Operations

| Operation | Use Case |
|-----------|----------|
| **AND** | To **clear** (mask) specific bits |
| **OR** | To **set** specific bits to 1 |
| **XOR** | To **toggle/complement** specific bits |

---

## 2.3 Shift Instructions

Shift instructions can be:
- **Logical** or **Arithmetic** or **Circular (Rotate)**
- **Left** or **Right**

### Typical Shift Instructions

| Name | Mnemonic | Description |
|------|----------|-------------|
| **Logical Shift Right** | SHR | Shift right, fill with 0 |
| **Logical Shift Left** | SHL | Shift left, fill with 0 |
| **Arithmetic Shift Right** | SHRA | Shift right, preserve sign bit |
| **Arithmetic Shift Left** | SHLA | Shift left (same as logical) |
| **Rotate Right** | ROR | Circular shift right |
| **Rotate Left** | ROL | Circular shift left |
| **Rotate Right through Carry** | RORC | Rotate right including carry |
| **Rotate Left through Carry** | ROLC | Rotate left including carry |

### Key Differences

| Type | Left Shift | Right Shift | Vacant Bit |
|------|------------|-------------|------------|
| **Logical** | SHL | SHR | Fill with **0** |
| **Arithmetic** | SHLA | SHRA | Fill with **sign bit** (right only) |
| **Rotate** | ROL | ROR | Bits **wrap around** |

---

# 3. Quick Summary Table (Exam Important!)

## Data Transfer Instructions

| Instruction | Direction |
|-------------|-----------|
| LD (Load) | Memory → Register |
| ST (Store) | Register → Memory |
| MOV (Move) | Register ↔ Register/Memory |
| XCH (Exchange) | Swap two locations |
| IN (Input) | I/O → Register |
| OUT (Output) | Register → I/O |
| PUSH | Register → Stack |
| POP | Stack → Register |

## Data Manipulation Instructions

| Category | Key Instructions |
|----------|-----------------|
| **Arithmetic** | INC, DEC, ADD, SUB, MUL, DIV, NEG |
| **Logical** | CLR, COM, AND, OR, XOR |
| **Shift** | SHL, SHR, SHRA, ROL, ROR |

---
