# Shift Micro-Operations

### What are Shift Micro-Operations?
Shift micro-operations **move bits** in a register to the left or right by one or more positions.

---

### Types of Shifts

#### 1. Logical Shift
Shifts bits left or right. **Vacant positions filled with 0.**

```
Logical Shift Left  (shl): 1 1 0 1  →  1 0 1 0   (LSB = 0, MSB lost)
Logical Shift Right (shr): 1 1 0 1  →  0 1 1 0   (MSB = 0, LSB lost)
```

RTL Notation:
```
R ← shl R    (Logical shift left)
R ← shr R    (Logical shift right)
```

---

#### 2. Arithmetic Shift
Used for **signed numbers (2's complement).**

- **Arithmetic Shift Left:** Same as logical shift left — MSB (sign bit) may change (**overflow possible**)
- **Arithmetic Shift Right:** MSB (sign bit) is **replicated** (sign is preserved), LSB is lost

```
Arithmetic Shift Right:
  Sign bit preserved →  1 1 0 1  →  1 1 1 0   (sign bit 1 is copied)
  Sign bit preserved →  0 1 1 0  →  0 0 1 1   (sign bit 0 is copied)
```

>  **Arithmetic shift right = divide by 2** for signed numbers. **Arithmetic shift left = multiply by 2** (if no overflow). This is a very common concept question.

---

#### 3. Circular Shift (Rotate)
Bits that fall off one end are **rotated back** to the other end. **No bits are lost.**

```
Circular Shift Left  (cil): 1 0 1 1  →  0 1 1 1   (MSB goes to LSB)
Circular Shift Right (cir): 1 0 1 1  →  1 1 0 1   (LSB goes to MSB)
```

RTL Notation:
```
R ← cil R    (Circular shift left)
R ← cir R    (Circular shift right)
```

---

#### 4. Rotate Through Carry
A variant of circular shift where the **carry flag (C)** acts as an extra bit in the rotation.

```
Rotate Left Through Carry:
[C] ← MSB,  each bit shifts left,  LSB ← old C

Rotate Right Through Carry:
[C] ← LSB,  each bit shifts right,  MSB ← old C
```

---

### Summary Table — All Shift Types

| Shift Type | Direction | Vacant bit filled with | Bits lost? |
|------------|-----------|----------------------|------------|
| Logical Left | ← | 0 (LSB) | MSB lost |
| Logical Right | → | 0 (MSB) | LSB lost |
| Arithmetic Left | ← | 0 (LSB) | MSB may overflow |
| Arithmetic Right | → | Sign bit (MSB copied) | LSB lost |
| Circular Left | ← | MSB wraps to LSB | None |
| Circular Right | → | LSB wraps to MSB | None |

---

### Hardware — Shift Register

A **shift register** is made of **D flip-flops** connected in series.

```
Serial In → [FF3] → [FF2] → [FF1] → [FF0] → Serial Out
               ↓       ↓       ↓       ↓
              Q3      Q2      Q1      Q0    (Parallel Out)
```

- **SISO** — Serial In Serial Out
- **SIPO** — Serial In Parallel Out
- **PISO** — Parallel In Serial Out
- **PIPO** — Parallel In Parallel Out

---

## Master Comparison Table — All Micro-Operations

| Feature | Arithmetic | Logic | Shift |
|---------|-----------|-------|-------|
| Operates on | Numeric values | Individual bits | Bit positions |
| Basic ops | +, −, ×, ÷ | AND, OR, XOR, NOT | Left, Right, Circular |
| Carry/Overflow? | Yes | No | Yes (in some) |
| Used for | Calculation | Masking, bit manipulation | Multiplication ÷ 2, serial data |
| Hardware | Full Adder based | Logic gates | Flip-flop chain |

---
