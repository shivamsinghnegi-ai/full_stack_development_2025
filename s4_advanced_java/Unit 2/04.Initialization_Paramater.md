# Initialization Parameters

---

## What are Initialization Parameters?

Initialization parameters are **configuration values** that can be passed to a servlet without hardcoding them in the Java code.

### Why Use Init Parameters?

- **No recompilation needed** - Change values without modifying Java code
- **Configuration flexibility** - Different values for different environments
- **Separation of concerns** - Keep configuration separate from logic

---

## Types of Initialization Parameters

| Type | Scope | Configured Using | Accessed Via |
|------|-------|------------------|--------------|
| **Servlet Init Parameters** | Single Servlet | `<init-param>` inside `<servlet>` | `ServletConfig` |
| **Context Init Parameters** | Entire Application | `<context-param>` | `ServletContext` |

---

## 1. Servlet Init Parameters (ServletConfig)

These parameters are available **only to a specific servlet**.

### Configuration in web.xml:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="4.0" xmlns="http://xmlns.jcp.org/xml/ns/javaee">
    
    <servlet>
        <servlet-name>EmailServlet</servlet-name>
        <servlet-class>com.example.EmailServlet</servlet-class>
        
        <!-- Servlet-specific init parameters -->
        <init-param>
            <param-name>adminEmail</param-name>
            <param-value>admin@company.com</param-value>
        </init-param>
        <init-param>
            <param-name>maxRetries</param-name>
            <param-value>3</param-value>
        </init-param>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>EmailServlet</servlet-name>
        <url-pattern>/email</url-pattern>
    </servlet-mapping>
    
</web-app>
```

### Accessing in Servlet:

```java
package com.example;

import javax.servlet.*;
import javax.servlet.http.*;
import java.io.*;

public class EmailServlet extends HttpServlet {
    
    private String adminEmail;
    private int maxRetries;
    
    @Override
    public void init() throws ServletException {
        // Get ServletConfig object
        ServletConfig config = getServletConfig();
        
        // Read init parameters
        adminEmail = config.getInitParameter("adminEmail");
        maxRetries = Integer.parseInt(config.getInitParameter("maxRetries"));
        
        System.out.println("Admin Email: " + adminEmail);
        System.out.println("Max Retries: " + maxRetries);
    }
    
    @Override
    public void doGet(HttpServletRequest request, HttpServletResponse response) 
            throws ServletException, IOException {
        
        response.setContentType("text/html");
        PrintWriter out = response.getWriter();
        
        out.println("<h2>Servlet Init Parameters</h2>");
        out.println("<p>Admin Email: " + adminEmail + "</p>");
        out.println("<p>Max Retries: " + maxRetries + "</p>");
    }
}
```

---

## 2. Context Init Parameters (ServletContext)

These parameters are available to **all servlets** in the application.

### Configuration in web.xml:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="4.0" xmlns="http://xmlns.jcp.org/xml/ns/javaee">
    
    <!-- Context parameters - available to ALL servlets -->
    <context-param>
        <param-name>appName</param-name>
        <param-value>My Application</param-value>
    </context-param>
    <context-param>
        <param-name>version</param-name>
        <param-value>1.0</param-value>
    </context-param>
    <context-param>
        <param-name>dbURL</param-name>
        <param-value>jdbc:mysql://localhost:3306/mydb</param-value>
    </context-param>
    
    <servlet>
        <servlet-name>AppServlet</servlet-name>
        <servlet-class>com.example.AppServlet</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>AppServlet</servlet-name>
        <url-pattern>/app</url-pattern>
    </servlet-mapping>
    
</web-app>
```

### Accessing in Servlet:

```java
package com.example;

import javax.servlet.*;
import javax.servlet.http.*;
import java.io.*;

public class AppServlet extends HttpServlet {
    
    @Override
    public void doGet(HttpServletRequest request, HttpServletResponse response) 
            throws ServletException, IOException {
        
        // Get ServletContext object
        ServletContext context = getServletContext();
        
        // Read context parameters
        String appName = context.getInitParameter("appName");
        String version = context.getInitParameter("version");
        String dbURL = context.getInitParameter("dbURL");
        
        response.setContentType("text/html");
        PrintWriter out = response.getWriter();
        
        out.println("<h2>Context Init Parameters</h2>");
        out.println("<p>App Name: " + appName + "</p>");
        out.println("<p>Version: " + version + "</p>");
        out.println("<p>DB URL: " + dbURL + "</p>");
    }
}
```

---

## Comparison: ServletConfig vs ServletContext

| Feature | ServletConfig | ServletContext |
|---------|---------------|----------------|
| **Scope** | Single servlet only | Entire web application |
| **Access Method** | `getServletConfig()` | `getServletContext()` |
| **Configuration** | `<init-param>` inside `<servlet>` | `<context-param>` |
| **Object per** | Each servlet has its own | One per application |
| **Use Case** | Servlet-specific settings | App-wide settings |

---

## Important Methods

### ServletConfig Methods:

```java
// Get a single parameter
String value = config.getInitParameter("paramName");

// Get all parameter names
Enumeration<String> names = config.getInitParameterNames();
while(names.hasMoreElements()) {
    String name = names.nextElement();
    String value = config.getInitParameter(name);
}

// Get servlet name
String servletName = config.getServletName();

// Get ServletContext from ServletConfig
ServletContext ctx = config.getServletContext();
```

### ServletContext Methods:

```java
// Get a single parameter
String value = context.getInitParameter("paramName");

// Get all parameter names
Enumeration<String> names = context.getInitParameterNames();

// Get real path of a resource
String path = context.getRealPath("/WEB-INF/data.txt");

// Set and get attributes (shared data)
context.setAttribute("counter", 100);
Integer counter = (Integer) context.getAttribute("counter");
```

---
