# CRUD operation using PreparedStatement

### 1. PreparedStatement - INSERT (Recommended Method)

```java
import java.sql.*;

public class PrepaidStatement {
    private static final String url = "jdbc:mysql://localhost:3306/college";
    private static final String username = "root";
    private static final String password = "12345";
    
    public static void main(String[] args) {
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
        } catch (ClassNotFoundException e) {
            System.out.println(e.getMessage());
        }

        try {
            Connection connection = DriverManager.getConnection(url, username, password);
            String query = "INSERT INTO students(name, age, marks) VALUES(?, ?, ?)";
            PreparedStatement preparedStatement = connection.prepareStatement(query);
            
            preparedStatement.setString(1, "Ankita");
            preparedStatement.setInt(2, 27);
            preparedStatement.setDouble(3, 98.34);

            int rowsAffected = preparedStatement.executeUpdate();
            
            if (rowsAffected > 0) {
                System.out.println("Data Inserted successfully...");
            } else {
                System.out.println("Data not inserted...");
            }
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
    }
}
```

**Key Points**:
- `?` - Placeholder for values
- `setString(index, value)` - Set value at specified position
- Index starts from 1 (not 0)
- More secure than Statement

---

### 2. PreparedStatement - SELECT

```java
import java.sql.*;

public class PsInsert {
    private static final String url = "jdbc:mysql://localhost:3306/college";
    private static final String username = "root";
    private static final String password = "12345";
    
    public static void main(String[] args) {
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
        } catch (ClassNotFoundException e) {
            System.out.println(e.getMessage());
        }

        try {
            Connection connection = DriverManager.getConnection(url, username, password);
            String query = "SELECT marks FROM students WHERE id = ?";
            PreparedStatement preparedStatement = connection.prepareStatement(query);
            
            preparedStatement.setInt(1, 1);
            ResultSet resultSet = preparedStatement.executeQuery();
            
            if (resultSet.next()) {
                double marks = resultSet.getDouble("marks");
                System.out.println("Marks: " + marks);
            } else {
                System.out.println("Marks not found");
            }
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
    }
}
```

---

## Quick Terminology Reference

| Term | Meaning |
|------|---------|
| **JDBC** | Java Database Connectivity - API to connect Java with databases |
| **Driver** | Software that connects Java application to database |
| **DriverManager** | Class that manages database drivers and creates connections |
| **Connection** | Represents a session with database |
| **Statement** | Interface to execute SQL queries |
| **PreparedStatement** | Pre-compiled statement with parameters (more secure) |
| **ResultSet** | Table data returned from SELECT query |
| **executeQuery()** | Method for SELECT queries (returns ResultSet) |
| **executeUpdate()** | Method for INSERT/UPDATE/DELETE (returns row count) |
| **Middleware** | Intermediary layer between application and database |
| **SQL Injection** | Security vulnerability in Statement (prevented by PreparedStatement) |

---

## Important Notes

1. **Always use Type 4 (Thin Driver)** - best performance and pure Java
2. **Prefer PreparedStatement over Statement** - more secure and efficient
3. **Close resources** - Connection, Statement, ResultSet after use
4. **JDBC URL Format**: `jdbc:mysql://localhost:3306/database_name`
5. **Parameter index in PreparedStatement starts from 1** (not 0)

---
